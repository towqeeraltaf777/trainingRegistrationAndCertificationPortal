<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller = function ($scope, $location) {

  $scope.openCourse = function (courseId) {
    $location.url('?id=course_details&course_id=' + courseId);
  };

};
]]></client_script>
        <controller_as>c</controller_as>
        <css/>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>course_cards</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>Course Cards</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {

  data.courses = [];

  var gr = new GlideRecord('x_1862243_training_training_course_table');
  gr.addQuery('is_active', true);
  gr.query();

  while (gr.next()) {
    data.courses.push({
      sys_id: gr.getUniqueValue(),
      name: gr.getValue('course_name'),
      instructor: gr.getDisplayValue('instructor'),
      availableSeats: gr.available_seats.nil() ? 0 : parseInt(gr.available_seats, 10)
    });
  }

})();
]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2026-01-11 04:43:19</sys_created_on>
        <sys_id>b77f143e835e721084ade7d0deaad3ba</sys_id>
        <sys_mod_count>18</sys_mod_count>
        <sys_name>Course Cards</sys_name>
        <sys_package display_value="Training Registration and Certification Portal" source="x_1862243_training">cd4f29228352721084ade7d0deaad3c0</sys_package>
        <sys_policy/>
        <sys_scope display_value="Training Registration and Certification Portal">cd4f29228352721084ade7d0deaad3c0</sys_scope>
        <sys_update_name>sp_widget_b77f143e835e721084ade7d0deaad3ba</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2026-01-11 16:14:40</sys_updated_on>
        <template><![CDATA[<div>
  <div class="row">
    <div class="col-md-4" ng-repeat="course in data.courses">
      <div class="panel panel-default" style="cursor:pointer" ng-click="openCourse(course.sys_id)">
        <div class="panel-heading">{{course.name}}</div>
        <div class="panel-body">
          Instructor: {{course.instructor}}<br>
          Available Seats: {{course.availableSeats}}
        </div>
      </div>
    </div>
  </div>
</div>
]]></template>
    </sp_widget>
</record_update>
